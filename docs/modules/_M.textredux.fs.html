<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Textredux docs</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Textredux</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Fields">Fields</a></li>
</ul>


<h2>Modules</h2>
<ul>
  <li><a href="../modules/_M.textredux.html">_M.textredux</a></li>
  <li><a href="../modules/_M.textredux.buffer_list.html">_M.textredux.buffer_list</a></li>
  <li><a href="../modules/_M.textredux.core.html">_M.textredux.core</a></li>
  <li><a href="../modules/_M.textredux.core.buffer.html">_M.textredux.core.buffer</a></li>
  <li><a href="../modules/_M.textredux.core.gui.html">_M.textredux.core.gui</a></li>
  <li><a href="../modules/_M.textredux.core.indicator.html">_M.textredux.core.indicator</a></li>
  <li><a href="../modules/_M.textredux.core.list.html">_M.textredux.core.list</a></li>
  <li><a href="../modules/_M.textredux.core.style.html">_M.textredux.core.style</a></li>
  <li><strong>_M.textredux.fs</strong></li>
  <li><a href="../modules/_M.textredux.hijack.html">_M.textredux.hijack</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>_M.textredux.fs</code></h1>

<p>textredux.fs provides file system related functions and a text based file
browser for Textadept.</p>
<p>It features traditional directory browsing, snapopen functionality, completely
keyboard driven interaction, and provides powerful narrow to search
functionality.</p>

<h2>Some tips on using the file browser</h2>

<p><em>Switching between traditional browsing and snapopen</em></p>

<p>As said above the file browser allows both traditional browsing as well as
snapopen functionality. But it also allows you to seamlessly switch between
the two modes (by default, <code>Ctrl + s</code> is assigned for this).</p>

<p><em>Quickly moving up one directory level</em></p>

<p>In traditional browsing mode, you can always select <code>..</code> to move up one
directory level. But a quicker way of doing the same is to press <code>&lt;backspace&gt;</code>
when you have an empty search. This also works when in snapopen mode.</p>

<p><em>Opening a sub directory in snapopen mode</em></p>

<p>In contrast with Textadept snapopen, you will in snapopen mode also see sub
directories in the listing. This is by design - you can select a sub directory
to snapopen that directory.</p>

<p><em>Changing the styles used for different file types</em></p>

<p>If you don't like the default styles (colors, etc.) used by the file browser,
you can easily change these by customizing any of the <code>style_&lt;foo&gt;</code> entries
using the Textredux style module. As an example, to make directory entries
underlined you would do something like the following:</p>

<pre><code>_M.textredux.core.style.fs_directory = { underline = true }
</code></pre>

<p>Please see the documentation for the Textredux style module for instructions
on how to define styles.</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2011-2012</li>
        <li><strong>License</strong>: MIT (see LICENSE)</li>
        <li><strong>Author</strong>: Nils Nordman <nino at nordman.org></li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#select_file">select_file&nbsp;(on_selection, start_directory, filter, depth, max_files)</a></td>
	<td class="summary">Opens a file browser and lets the user choose a file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#open_file">open_file&nbsp;(start_directory)</a></td>
	<td class="summary">Opens the specified directory for browsing.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#save_buffer_as">save_buffer_as&nbsp;()</a></td>
	<td class="summary">Saves the current buffer under a new name.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#save_buffer">save_buffer&nbsp;()</a></td>
	<td class="summary">Saves the current buffer.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#snapopen">snapopen&nbsp;(directory, filter, exclude_FILTER, depth)</a></td>
	<td class="summary">Opens a list of files in the specified directory, according to the given
parameters.</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#tr_style.fs_directory">tr_style.fs_directory</a></td>
	<td class="summary">The style used for directory entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tr_style.fs_file">tr_style.fs_file</a></td>
	<td class="summary">The style used for ordinary file entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tr_style.fs_link">tr_style.fs_link</a></td>
	<td class="summary">The style used for link entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tr_style.fs_socket">tr_style.fs_socket</a></td>
	<td class="summary">The style used for socket entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tr_style.fs_pipe">tr_style.fs_pipe</a></td>
	<td class="summary">The style used for pipe entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tr_style.fs_device">tr_style.fs_device</a></td>
	<td class="summary">The style used for pipe entries.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "select_file"></a>
    <strong>select_file&nbsp;(on_selection, start_directory, filter, depth, max_files)</strong>
    </dt>
    <dd>
    Opens a file browser and lets the user choose a file.
Defaults to 10000 if not specified.

    <h3>Parameters:</h3>
    <ul>
      <li><span class="parameter">on_selection</span>
       The function to invoke when the user has choosen a file.
The function will be called with following parameters:</p>

<ul>
    <li><code>path</code>: The full path of the choosen file (UTF-8 encoded).</li>
    <li><code>exists</code>: A boolean indicating whether the file exists or not.</li>
    <li><code>list</code>: A reference to the Textredux list used by browser.</li>
    <li><code>shift</code>: True if the Shift key was held down when selecting the file.</li>
    <li><code>ctrl</code>: True if the Control/Command key was held down when selecting the file.</li>
    <li><code>alt</code>: True if the Alt/option key was held down when selecting the file.</li>
    <li><code>meta</code>: True if the Control key on Mac OSX was held down when selecting the file.</li>
</ul>

<p>The list will not be closed automatically, so close it explicitly using
<code>list:close()</code> if desired.</li>
      <li><span class="parameter">start_directory</span>
       The initial directory to open, in UTF-8 encoding. If
nil, the initial directory is determined automatically (preferred choice is to
open the directory containing the current file).</li>
      <li><span class="parameter">filter</span>
       The filter to apply, if any. The structure and semantics are the
same as for Textadept's
<a href="http://foicica.com/textadept/api/_M.textadept.snapopen.html">snapopen</a>.</li>
      <li><span class="parameter">depth</span>
       The number of directory levels to display in the list. Defaults to
1 if not specified, which results in a "normal" directory listing.</li>
      <li><span class="parameter">max_files</span>
       The maximum number of files to scan and display in the list.</li>
    </ul>





</dd>
    <dt>
    <a name = "open_file"></a>
    <strong>open_file&nbsp;(start_directory)</strong>
    </dt>
    <dd>
    Opens the specified directory for browsing.

    <h3>Parameters:</h3>
    <ul>
      <li><span class="parameter">start_directory</span>
       The directory to open, in UTF-8 encoding</li>
    </ul>





</dd>
    <dt>
    <a name = "save_buffer_as"></a>
    <strong>save_buffer_as&nbsp;()</strong>
    </dt>
    <dd>
    Saves the current buffer under a new name.
 Open a browser and lets the user select a name.






</dd>
    <dt>
    <a name = "save_buffer"></a>
    <strong>save_buffer&nbsp;()</strong>
    </dt>
    <dd>
    Saves the current buffer.
 Prompts the users for a filename if it's a new, previously unsaved buffer.






</dd>
    <dt>
    <a name = "snapopen"></a>
    <strong>snapopen&nbsp;(directory, filter, exclude_FILTER, depth)</strong>
    </dt>
    <dd>
    Opens a list of files in the specified directory, according to the given
parameters.  This works similarily to
<a href="http://foicica.com/textadept/api/_M.textadept.snapopen.html">Textadept snapopen</a>.
The main differences are:</p>

<ul>
    <li><p>it does not support opening multiple paths at once, which also makes the
    Textadept parameter <code>exclusive</code> pointless.</p></li>
    <li><p>filter can contain functions as well as patterns (and can be a function as well).
    Functions will be passed a file object which is the same as the return from
    <a href="http://keplerproject.github.com/luafilesystem/manual.html#attributes">lfs.attributes</a>,
    with the following additions:</p>

    <ul>
        <li><code>rel_path</code>: The path of the file relative to the currently
        displayed directory.</li>
        <li><code>hidden</code>: Whether the path denotes a hidden file.</li>
    </ul></li>
</ul>

<p>and also defaults to snapopen.DEFAULT_DEPTH if not specified.

    <h3>Parameters:</h3>
    <ul>
      <li><span class="parameter">directory</span>
       The directory to open, in UTF-8 encoding.</li>
      <li><span class="parameter">filter</span>
       The filter to apply. The format and semantics are the same as for
Textadept.</li>
      <li><span class="parameter">exclude_FILTER</span>
       Same as for Textadept: unless if not true then
snapopen.FILTER will be automatically added to the filter.
to snapopen.FILTER if not specified.</li>
      <li><span class="parameter">depth</span>
       The number of directory levels to scan. Same as for Textadept,</li>
    </ul>





</dd>
</dl>
    <h2><a name="Fields"></a>Fields</h2>

    <dl class="function">
    <dt>
    <a name = "tr_style.fs_directory"></a>
    <strong>tr_style.fs_directory</strong>
    </dt>
    <dd>
    The style used for directory entries.






</dd>
    <dt>
    <a name = "tr_style.fs_file"></a>
    <strong>tr_style.fs_file</strong>
    </dt>
    <dd>
    The style used for ordinary file entries.






</dd>
    <dt>
    <a name = "tr_style.fs_link"></a>
    <strong>tr_style.fs_link</strong>
    </dt>
    <dd>
    The style used for link entries.






</dd>
    <dt>
    <a name = "tr_style.fs_socket"></a>
    <strong>tr_style.fs_socket</strong>
    </dt>
    <dd>
    The style used for socket entries.






</dd>
    <dt>
    <a name = "tr_style.fs_pipe"></a>
    <strong>tr_style.fs_pipe</strong>
    </dt>
    <dd>
    The style used for pipe entries.






</dd>
    <dt>
    <a name = "tr_style.fs_device"></a>
    <strong>tr_style.fs_device</strong>
    </dt>
    <dd>
    The style used for pipe entries.






</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.3</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
