<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>TextRedux docs</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>TextRedux</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Fields">Fields</a></li>
</ul>


<h2>Modules</h2>
<ul>
  <li><a href="../modules/_M.textredux.html">_M.textredux</a></li>
  <li><a href="../modules/_M.textredux.buffer_list.html">_M.textredux.buffer_list</a></li>
  <li><strong>_M.textredux.fs</strong></li>
  <li><a href="../modules/_M.textredux.hijack.html">_M.textredux.hijack</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>_M.textredux.fs</code></h1>

<p>textredux.fs provides a text based file browser for TextAdept.</p>
<p>It features traditional directory browsing, snapopen functionality, completely
keyboard driven interaction, and provides powerful narrow to search functionality.</p>

<h2>Some tips on using the file browser</h2>

<p><em>Switching between traditional browsing and snapopen</em></p>

<p>As said above the file browser allows both traditional browsing as well as
snapopen functionality. But it also allows you to seamlessly switch between
the two modes (by default, <code>Ctrl + s</code> is assigned for this).</p>

<p><em>Quickly moving up one directory level</em></p>

<p>In traditional browsing mode, you can always select <code>..</code> to move up one directory
level. But a quicker way of doing the same is to press <code>&lt;backspace&gt;</code> when you
have an empty search. This also works when in snapopen mode.</p>

<p><em>Opening a sub directory in snapopen mode</em></p>

<p>In contrast with TextAdept snapopen, you will in snapopen mode also see sub
directories in the listing. This is by design - you can select a sub directory
to snapopen that directory.</p>

<p><em>Changing the styles used for different file types</em></p>

<p>If you don't like the default styles (colors, etc.) used by the file browser,
you can easily change these by customizing any of the <code>style_&lt;foo&gt;</code> entries using
the TextUI style module. As an example, to make directory entries underlined
you would do something like the following:</p>

<pre><code>_M.textui.style.textredux_fs_directory = { underline = true }
</code></pre>

<p>Please see the documentation for the TextUI style module for instructions on how
to define styles.</p>

<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#select_file">select_file&nbsp;(on_selection, start_directory, filter, depth, max_files)</a></td>
	<td class="summary">Opens a file browser and lets the user choose a file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#open_file">open_file&nbsp;(start_directory)</a></td>
	<td class="summary">Opens the specified directory for browsing.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#save_buffer_as">save_buffer_as&nbsp;()</a></td>
	<td class="summary">Saves the current buffer under a new name.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#save_buffer">save_buffer&nbsp;()</a></td>
	<td class="summary">Saves the current buffer.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#snapopen">snapopen&nbsp;(directory, filter, exclude_FILTER, depth)</a></td>
	<td class="summary">Opens a list of files in the specified directory, according to the given
parameters.</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#style.textredux_fs_directory">style.textredux_fs_directory</a></td>
	<td class="summary">The style used for directory entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#style.textredux_fs_file">style.textredux_fs_file</a></td>
	<td class="summary">The style used for ordinary file entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#style.textredux_fs_link">style.textredux_fs_link</a></td>
	<td class="summary">The style used for link entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#style.textredux_fs_socket">style.textredux_fs_socket</a></td>
	<td class="summary">The style used for socket entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#style.textredux_fs_pipe">style.textredux_fs_pipe</a></td>
	<td class="summary">The style used for pipe entries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#style.textredux_fs_device">style.textredux_fs_device</a></td>
	<td class="summary">The style used for pipe entries.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    
    <dl class="function">
    <dt>
    <a name = "select_file"></a>
    <strong>select_file&nbsp;(on_selection, start_directory, filter, depth, max_files)</strong>
    </dt>
    <dd>
    Opens a file browser and lets the user choose a file. 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>on_selection</em></code>:  The function to invoke when the user has choosen a file. The function
will be called with three parameters: The full path of the choosen file (UTF-8 encoded),
a boolean indicating whether the file exists or not, and a reference to the TextUI
list used by browser. The list will not be closed automatically, so close it
explicitly using <code>list:close()</code> if desired.</li>
       <li><code><em>start_directory</em></code>:  The initial directory to open, in UTF-8 encoding. If nil,
the initial directory is determined automatically (preferred choice is to
open the directory containing the current file).</li>
       <li><code><em>filter</em></code>:  The filter to apply, if any. The structure and semantics are the
same as for TextAdept's
<a href="http://caladbolg.net/luadoc/textadept/modules/_m.textadept.snapopen.html">snapopen</a>.</li>
       <li><code><em>depth</em></code>:  The number of directory levels to display in the list. Defaults to
1 if not specified, which results in a "normal" directory listing.</li>
       <li><code><em>max_files</em></code>:  The maximum number of files to scan and display in the list.
Defaults to 10000 if not specified.</li>
    </ul>




</dd>
    <dt>
    <a name = "open_file"></a>
    <strong>open_file&nbsp;(start_directory)</strong>
    </dt>
    <dd>
    Opens the specified directory for browsing. 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>start_directory</em></code>:  The directory to open, in UTF-8 encoding</li>
    </ul>




</dd>
    <dt>
    <a name = "save_buffer_as"></a>
    <strong>save_buffer_as&nbsp;()</strong>
    </dt>
    <dd>
    Saves the current buffer under a new name. 
 Open a browser and lets the user select a name.





</dd>
    <dt>
    <a name = "save_buffer"></a>
    <strong>save_buffer&nbsp;()</strong>
    </dt>
    <dd>
    Saves the current buffer. 
 Prompts the users for a filename if it's a new, previously unsaved buffer.





</dd>
    <dt>
    <a name = "snapopen"></a>
    <strong>snapopen&nbsp;(directory, filter, exclude_FILTER, depth)</strong>
    </dt>
    <dd>
    
<p>Opens a list of files in the specified directory, according to the given
parameters.  This works similarily to
<a href="http://caladbolg.net/luadoc/textadept/modules/_m.textadept.snapopen.html">TextAdept snapopen</a>.
The main differences are:</p>

<ul>
    <li><p>it does not support opening multiple paths at once, which also makes the
    TextAdept parameter <code>exclusive</code> pointless.</p></li>
    <li><p>filter can contain functions as well as patterns (and can be a function as well).
    Functions will be passed a file object which is the same as the return from
    <a href="http://keplerproject.github.com/luafilesystem/manual.html#attributes">lfs.attributes</a>,
    with the following additions:</p>
    
    <ul>
        <li><code>rel_path</code>: The path of the file relative to the currently displayed directory.</li>
        <li><code>hidden</code>: Whether the path denotes a hidden file.</li>
    </ul></li>
</ul>



    <h3>Parameters:</h3>
    <ul>
       <li><code><em>directory</em></code>:  The directory to open, in UTF-8 encoding.</li>
       <li><code><em>filter</em></code>:  The filter to apply. The format and semantics are the same as for
TextAdept.</li>
       <li><code><em>exclude_FILTER</em></code>:  Same as for TextAdept: unless if not true then
snapopen.FILTER will be automatically added to the filter.
to snapopen.FILTER if not specified.</li>
       <li><code><em>depth</em></code>:  The number of directory levels to scan. Same as for TextAdept,
and also defaults to snapopen.DEFAULT_DEPTH if not specified.</li>
    </ul>




</dd>
</dl>
    <h2><a name="Fields"></a>Fields</h2>
    
    <dl class="function">
    <dt>
    <a name = "style.textredux_fs_directory"></a>
    <strong>style.textredux_fs_directory</strong>
    </dt>
    <dd>
    The style used for directory entries. 





</dd>
    <dt>
    <a name = "style.textredux_fs_file"></a>
    <strong>style.textredux_fs_file</strong>
    </dt>
    <dd>
    The style used for ordinary file entries. 





</dd>
    <dt>
    <a name = "style.textredux_fs_link"></a>
    <strong>style.textredux_fs_link</strong>
    </dt>
    <dd>
    The style used for link entries. 





</dd>
    <dt>
    <a name = "style.textredux_fs_socket"></a>
    <strong>style.textredux_fs_socket</strong>
    </dt>
    <dd>
    The style used for socket entries. 





</dd>
    <dt>
    <a name = "style.textredux_fs_pipe"></a>
    <strong>style.textredux_fs_pipe</strong>
    </dt>
    <dd>
    The style used for pipe entries. 





</dd>
    <dt>
    <a name = "style.textredux_fs_device"></a>
    <strong>style.textredux_fs_device</strong>
    </dt>
    <dd>
    The style used for pipe entries. 





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.1</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
